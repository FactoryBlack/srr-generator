<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>I Wanna Lockpick Solver</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f4;
            color: #333;
            text-align: center;
            padding: 20px;
        }
        #solver-container {
            max-width: 800px;
            margin: 0 auto;
        }
        #output {
            margin-top: 20px;
            padding: 10px;
            background-color: #e9e9e9;
            border: 1px solid #ccc;
            border-radius: 5px;
            overflow-y: scroll;
            max-height: 300px;
            text-align: left;
        }
    </style>
</head>
<body>
    <div id="solver-container">
        <h1>I Wanna Lockpick Solver</h1>
        <p>Click the button below to start the brute-force solver for "I Wanna Lockpick".</p>
        <button onclick="startSolver()">Start Solver</button>

        <div id="output">
            <h2>Solver Output</h2>
            <pre id="result"></pre>
        </div>
    </div>

    <script>
        // Define puzzle state variables
        const initialState = {
            position: { x: 0, y: 0 }, // Starting coordinates of Lily
            keys: {
                white: 0,
                cyan: 0,
                pink: 0,
                green: 0,
                // Add other key colors as needed
            },
            steps: 0,
            path: []
        };

        const goalPosition = { x: 0, y: 0 }; // Example coordinates for the goal (green tick)

        // Define actions (movement, collect keys, open doors)
        function move(state, direction) {
            // Clone state
            const newState = JSON.parse(JSON.stringify(state));

            // Update position based on direction
            switch (direction) {
                case 'up':
                    newState.position.y -= 1;
                    break;
                case 'down':
                    newState.position.y += 1;
                    break;
                case 'left':
                    newState.position.x -= 1;
                    break;
                case 'right':
                    newState.position.x += 1;
                    break;
            }
            newState.steps += 1;
            newState.path.push(direction);
            return newState;
        }

        function collectKey(state, color) {
            // Clone state
            const newState = JSON.parse(JSON.stringify(state));
            newState.keys[color]++;
            return newState;
        }

        function openDoor(state, color) {
            // Implement door opening logic here
            // Check if enough keys of the color are available and subtract them if possible
            return state; // Return updated state if door opened successfully
        }

        // Brute-force solver function
        function bruteForceSolver(state) {
            const solutions = [];
            const queue = [state];

            while (queue.length > 0) {
                const currentState = queue.shift();

                // Check if goal reached
                if (currentState.position.x === goalPosition.x && currentState.position.y === goalPosition.y) {
                    solutions.push(currentState);
                    continue;
                }

                // Generate next states for each possible action
                const directions = ['up', 'down', 'left', 'right'];
                directions.forEach(direction => {
                    const newState = move(currentState, direction);
                    queue.push(newState);
                });

                // Add key collection or door opening logic as needed
                // Example: queue.push(collectKey(currentState, 'cyan'));
            }

            return solutions;
        }

        // Start solver and display results
        function startSolver() {
            const solutions = bruteForceSolver(initialState);
            const resultElement = document.getElementById('result');

            // Sort solutions by steps taken
            solutions.sort((a, b) => a.steps - b.steps);

            // Display results
            resultElement.innerHTML = '';
            solutions.forEach((solution, index) => {
                resultElement.innerHTML += `Solution ${index + 1} (Steps: ${solution.steps}): ${solution.path.join(' -> ')}\n`;
            });
        }
    </script>
</body>
</html>
